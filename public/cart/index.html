<!DOCTYPE html>
<html lang="en">
<head>


<meta charset="utf-8">
<title>PrimalPantry | Cart - Primalpantry</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="apple-touch-icon" sizes="180x180" href='/apple-touch-icon.png'>
<link rel="icon" type="image/png" sizes="32x32" href='favicon-32x32.png'>
<link rel="icon" type="image/png" sizes="16x16" href='favicon-16x16.png'>
<link rel="manifest" href='/site.webmanifest'>

<link rel="canonical" href="https://www.primalpantry.co.nz/cart/">



  
  
  <link rel="stylesheet" href="/css/style.min.ad45b5509a812c5c3ba107e6062d363ac68fd1e318006dcb944591ebc38b7a43.css" />
  
  <link href='/css/style.min.css' rel="stylesheet" type="text/css">



<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZR6LL35JPP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  
  gtag('config', 'G-ZR6LL35JPP');

  
  gtag('config', 'AW-16543078874');
</script>
<script type="text/javascript" src="//script.crazyegg.com/pages/scripts/0124/4549.js" async="async" ></script>


<script>
!function (w, d, t) {
  w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(
var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script")
;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};


  ttq.load('CVEJ0HBC77U2AAG9J2P0');
  ttq.page();
}(window, document, 'ttq');
</script>


 
    <title>Checkout - PrimalPantry</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://js.stripe.com/v3/"></script>
    <script>
        const stripe = Stripe('pk_live_51QKEaJFZRwx5tlYmhyIEFR3mGroCdpqIHHVT68y9jGnizGDZXypuSfjilbCSkMarU39KeV4kUulC6HfpReRSJwb000fyIehR3I'); 
    </script>
</head>
<body><header>
    
    <script src="https://cdn.usefathom.com/script.js" data-site="SUFMJROW" defer></script>
    

    
    
    

        
    <script>
        !function(f,b,e,v,n,t,s) {
            if(f.fbq) return;
            n = f.fbq = function() {
                n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments)
            };
            if(!f._fbq) f._fbq = n;
            n.push = n;
            n.loaded = !0;
            n.version = '2.0';
            n.queue = [];
            t = b.createElement(e);
            t.async = !0;
            t.src = v;
            s = b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t, s)
        }(window, document,'script','https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '809100344281173');
        fbq('track', 'PageView');
    </script>
    <noscript>
        <img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=809100344281173&ev=PageView&noscript=1"/>
    </noscript>
    

    <div id="overlay">
        <ul class="text-center list-none text-white text-xl">
            
            <li class="p-2">
                <a href="/shop/">
                    <span>Shop Tallow</span>
                </a>
            </li>
            
            <li class="p-2">
                <a href="/pages/reviews/">
                    <span>Customer Reviews</span>
                </a>
            </li>
            
            <li class="p-2">
                <a href="/contact/">
                    <span>Contact</span>
                </a>
            </li>
            
            <li class="p-2">
                <a href="/pages/about/">
                    <span>About</span>
                </a>
            </li>
            
            
        </ul>
    </div>

    <nav class="flex items-center justify-between flex-wrap bg-opacity-100 p-2">
        <div class="block lg:hidden">
            <div id="hamburgerbtn" class="flex cursor-pointer items-center w-14 h-10 py-2 rounded mopen">
                <span class="top"></span>
                <span class="middle"></span>
                <span class="bottom"></span>
            </div>
        </div>
        
        <div class="flex items-center flex-shrink-0 text-xl text-grey-900">
            <a href="https://www.primalpantry.co.nz/" aria-label="PrimalPantry">
                <img alt="" class="sitelogo mr-3" src="/img/logo/logo.webp">
            </a>
        </div>

        

        <a class="iglink lg:hidden" href="/cart">
                <div class="cart-icon-container" style="position: relative; display: inline-block;">
                    <img src="/img/cart.webp" alt="Cart for PrimalPantry">
                    
                    <span class="cart-badge" style="display: none; position: absolute; top: 0; right: 0; background-color: red; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 12px;">1</span>
                </div>
            </a>

        <div class="hidden w-full block flex-grow lg:flex lg:items-center lg:w-auto" id="mobileMenu">
            <div class="text-lg lg:flex-grow">
                
            </div>
            <div class="text-lg">
                
                <a href="/shop/" class="duration-200 block lg:inline-block lg:mt-0 text-black hover:opacity-60 mr-8">
                    Shop Tallow
                </a>
                
                <a href="/pages/reviews/" class="duration-200 block lg:inline-block lg:mt-0 text-black hover:opacity-60 mr-8">
                    Customer Reviews
                </a>
                
                <a href="/contact/" class="duration-200 block lg:inline-block lg:mt-0 text-black hover:opacity-60 mr-8">
                    Contact
                </a>
                
                <a href="/pages/about/" class="duration-200 block lg:inline-block lg:mt-0 text-black hover:opacity-60 mr-8">
                    About
                </a>
                
            </div>
            <a class="iglink mob-hide mr-6" href="/cart">
                <div class="cart-icon-container" style="position: relative; display: inline-block;">
                    <img src="/img/cart.webp" alt="Cart for PrimalPantry">
                    
                    <span class="cart-badge" style="display: none; position: absolute; top: 0; right: 0; background-color: red; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 12px;">1</span>
                </div>
            </a>
            
        </div>
    </nav>
    
</header>


<script>
    document.addEventListener('DOMContentLoaded', function() {
        console.log('Script loaded and DOM content fully loaded.');

        const cart = JSON.parse(localStorage.getItem('cartV2')) || [];
        const cartBadges = document.querySelectorAll('.cart-badge');
        const tiktokparams = new URLSearchParams(window.location.search);
        const ttclid = tiktokparams.get('ttclid');
        if (ttclid) {
            localStorage.setItem('ttclid', ttclid);
        }

        console.log('Cart contents:', cart);

        if (cart.length > 0) {
            
            cartBadges.forEach(badge => {
                badge.style.display = 'flex';
                badge.textContent = cart.length;
            });
        } else {
            
            cartBadges.forEach(badge => {
                badge.style.display = 'none';
            });
        }
    });
</script>

<script type="application/javascript">
    function geoip(json){
        const expires = new Date();
        expires.setTime(expires.getTime() + (30 * 24 * 60 * 60 * 1000));  
        if(json.country_code){
            
            document.cookie = `country_code=${json.country_code}; expires=${expires.toUTCString()}; path=/`;
        }
        else{
            
            document.cookie = `country_code="NZ"; expires=${expires.toUTCString()}; path=/`;
        }
           
    }
    function getCountryCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
        return null;
    }
    
    
    
    

    
    var outOfStockLinks=  document.querySelectorAll('.outOfStock a');
    
    outOfStockLinks.forEach(function (link) {
        link.addEventListener('click', function (event) {
            
            if (this.closest('.outOfStock')) {
                event.preventDefault(); 
                alert('This item is out of stock!'); 
            }
        });
    });
  </script>
<script src="https://get.geojs.io/v1/ip/geo.js"></script>
  
<script>
   window.onload = function() {
    const countryCode = getCountryCookie('country_code') || "NZ";
    var shipping_rate = document.getElementById('shipping_rate');
    
    
    if(countryCode == 'AU') {
        
        
        if(shipping_rate){
            shipping_rate.textContent='$150';
        }
        
        
        
        
    
    
    
    
    
        document.querySelectorAll('.nz-content').forEach(function(item) {
                item.style.display = 'none';
            });
            document.querySelectorAll('.au-content').forEach(function(item) {
                item.style.display = 'inline';
            });
    }
    else{
        if(shipping_rate){
            shipping_rate.textContent='$80';
        }
        document.querySelectorAll('.au-content').forEach(function(item) {
        item.style.display = 'none';
        document.querySelectorAll('.nz-content').forEach(function(item) {
                item.style.display = 'inline';
            });
    });

    }
  };
 </script> 

    <div class="container  my-2">
        <div id="cartempty" class="d-none text-center vh-55 align-items-center">
            <div class="middle">
            <h1>Your cart is empty</h1>
            <a href="/shop" class="btn btn-primary">Continue shopping</a>
        </div>
        </div>
        <div class="cartcontainerall">
<div class="black my-2 align-items-center">
    <img class="float-left ml-2 mr-2 mb-1 mt-1" style="height: 30px;" src="/img/scarcity.svg">
    <p class="p-2">The items in your cart are hot! Get them while you still can.</p>
</div>
        <div id="cart-items" class="mb-4">
            
        </div>

        <div id="cart-summary" class="card p-4 shadow">
            <h3>Cart Summary</h3>
            
            <p class="mb-1" id="shipping_info"><em>+$<span id="shipping_price"></span> shipping (spend over <span id="shipping_rate"></span> to get it free)</em></p>
            <p >Total: <strong><span id="total-cost">$0.00</span></strong></p>
            <div class="add-to-cart">
                <button id="proceed-to-checkout" class="btn btn-primary btn-lg buy-now mb-1 mt-3" disabled>Proceed to Checkout</button>
                <p>Speedy Shipping NZ Wide | Money back guarantee</p>
                <img class="badges" src="/img/stripe-badge-transparent.webp" alt="stripe secure badges">
            </div>


        </div>
    </div> </div>
<footer class="bg-tlgray-100">
  <script src='/js/custom.js?v=1'></script>

  
  <script src='/js/clipboard.min.js'></script>
  <script src='/js/highlight.min.js'></script>
  <script src='/js/highlightjs-line-numbers.min.js'></script>
  <script src='/js/sweetalert2.min.js'></script>
  <script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
    new ClipboardJS('.url');

    function OnClickURL() {
      Swal.fire({
        icon: 'success',
        title: 'Copied!',
        text: 'Copied the URL and title.'
      })
    }
  </script>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
    
    function setCookie(name, value, days) {
        const d = new Date();
        d.setTime(d.getTime() + (days * 24 * 60 * 60 * 1000));
        const expires = "expires=" + d.toUTCString();
        document.cookie = name + "=" + encodeURIComponent(value) + ";" + expires + ";path=/";
    }

    
    function getCookie(name) {
        const nameEQ = name + "=";
        const ca = document.cookie.split(';');
        for (let i = 0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) === ' ') c = c.substring(1, c.length);
            if (c.indexOf(nameEQ) === 0) return decodeURIComponent(c.substring(nameEQ.length, c.length));
        }
        return null;
    }

    
    if (!getCookie('landingURL')) {
        setCookie('landingURL', window.location.href, 30); 
        console.log('Landing URL stored:', window.location.href);
    } else {
        console.log('Landing URL already exists:', getCookie('landingURL'));
    }
});
  </script>
  
  <script>
    function toggleNav() {
      var hamburger = document.getElementById("hamburgerbtn");
      var overlay = document.getElementById("overlay");
      var body = document.body;

      hamburger.addEventListener("click", function () {
        overlay.classList.toggle("open");
        hamburger.classList.toggle("is-open");
        body.classList.toggle("scroll-lock");
      });
    }
    toggleNav();

    
    
    
  </script>


<script>
  window.addEventListener('load', (event) => {
    document.querySelectorAll('.buy-now').forEach(item => {
      item.addEventListener('click', event => {
        gtag('event', 'click', {
          'event_category': 'ecommerce',
          'event_label': 'buy-now',
          'value': 1
        });
      });
    });
  });
</script>



  
  <link href='/css/webfonts.min.css' rel="stylesheet" />
  
  <div class="flex items-center justify-between flex-wrap bg-gray-800 p-3 p-md-5 text-white">
    <div class="items-center text-xl text-grey-900 me-5">
      
    </div>
    <div class="w-full d-block flex-grow d-lg-flex align-items-center w-lg-auto" id="mobileMenu">
      <div class="text-lg flex-grow-1 d-flex">
        <div class="socialmobnav">
          <a class="iglink" href="https://www.facebook.com/profile.php?id=61560358912834"><img src="/img/fbw.png" alt="instagram for PrimalPantry"></a>
          <a class="iglink" href="https://www.instagram.com/primalpantry.nz/"><img src="/img/instw.png" alt="instagram for PrimalPantry"></a>
      </div>
      </div>
      <div class="flex flex-row align-items-center text-lg d-none d-md-block">
        
        <a href="/support/" class=" mt-4 d-inline-block  text-gray-300  me-5">

          
          Customer Support
          
        </a>
        
        <a href="/pages/reviews/" class=" mt-4 d-inline-block  text-gray-300  me-5">

          
          Reviews
          
        </a>
        
        <a href="/faq/" class=" mt-4 d-inline-block  text-gray-300  me-5">

          
          FAQs
          
        </a>
        
        <a href="/partner/" class=" mt-4 d-inline-block  text-gray-300  me-5">

          
          Partners
          
        </a>
        
        <a href="/pages/refund-policy/" class=" mt-4 d-inline-block  text-gray-300  me-5">

          
          Refund Policy
          
        </a>
        
        <a href="/pages/delivery/" class=" mt-4 d-inline-block  text-gray-300  me-5">

          
          Delivery
          
        </a>
        
        <a href="/pages/terms-of-use/" class=" mt-4 d-inline-block  text-gray-300  me-5">

          
          Terms of Use
          
        </a>
        
        <a href="/pages/privacy-policy/" class=" mt-4 d-inline-block  text-gray-300  me-5">

          
          Privacy Policy
          
        </a>
        
        <a href="/posts/" class=" mt-4 d-inline-block  text-gray-300  me-5">

          
          Blog
          
        </a>
        
        <a href="/get-listed/" class=" mt-4 d-inline-block  text-gray-300  me-5">

          
          Get listed
          
        </a>
        
        <a href="/sitemap/" class=" mt-4 d-inline-block  text-gray-300  me-5">

          
          Sitemap
          
        </a>
        
        <a href="/charity/" class=" mt-4 d-inline-block  text-gray-300  me-5">

          
          Charity
          
        </a>
        
      </div>
    </div>

  </div>
   
  <div class="copy ps-md-5 ps-3 py-5 bg-tlgray-700 text-white text-md">
    &copy; PrimalPantry 2025 All Rights Reserved. 
    <img style="float:right;padding-right:20px;"class="badges" src="/img/stripe-badge-transparent.webp" alt="stripe secure badges">

  </div>

</footer>


 

    
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            let cart = JSON.parse(localStorage.getItem('cartV2')) || [];
            console.log(cart);
            const countryCode = getCountryCookie('country_code') || "NZ";
            if(countryCode == 'NZ'){
                document.getElementById("shipping_price").innerHTML = '6.95';
            }
            if(countryCode == 'AU'){
                document.getElementById("shipping_price").innerHTML = '16.95';
            }

            const cartItemsContainer = document.getElementById('cart-items');
            const totalCostElement = document.getElementById('total-cost');
            const proceedToCheckoutButton = document.getElementById('proceed-to-checkout');

            function updateCart() {
                
                cartItemsContainer.innerHTML = '';
                const table = document.createElement('table');
                table.className = 'table table-bordered';
                if(window.innerWidth > 600){
                table.innerHTML = `
                    <thead class="thead-light">
                        <tr>
                            <th class="max-200" scope="col">Product</th>
                            <th scope="col">Unit $</th>
                            <th scope="col">Quantity</th>
                            <th scope="col">Total</th>
                        </tr>
                    </thead>
                    <tbody id="cart-table-body"></tbody>
                `;
                }
                 else{
                    table.innerHTML = `
                    <tbody id="cart-table-body"></tbody>
                `;
                 }
                cartItemsContainer.appendChild(table);

                const cartTableBody = document.getElementById('cart-table-body');
                let totalCost = 0;

                cart.forEach((item, index) => {
                    const quantity = parseInt(item.quantity, 10);
                    const unitPrice = parseFloat(item.unitPrice).toFixed(2);

                    
                    let priceSuffix = '';
                    if (item.orderType && item.orderType.includes('Quarterly')) {
                        priceSuffix = '<span class="price-suffix">/3mo</span>';
                    } else if (item.orderType && item.orderType.includes('Monthly')) {
                        priceSuffix = '<span class="price-suffix">/mo</span>';
                    }

                    const lineItemTotal = (unitPrice * quantity).toFixed(2);
                    totalCost += parseFloat(lineItemTotal);

                    const row = document.createElement('tr');

                    
                    if (window.innerWidth > 600) {
                        
                        if (item.orderTypeVal === 'three_pack') {
                            const flavorList = item.flavors.map((flavor, i) => {
                            return `<li>Jar ${i + 1}: ${flavor} - ${item.size}</li>`;
                        }).join('');
                            row.innerHTML = `
                                <td class="max-200">
                                    <div style="max-width: 250px;" class="float-left">
                                        ${item.title || 'Unknown Product'} - Pack of 3 Jars
                                        <ul>
                                            ${flavorList} 
                                        </ul>
                                    </div>
                                    <button class="remove-item bin-sml float-right" data-index="${index}">
                                        <img src="/img/bin.svg">
                                    </button>
                                </td>
                                <td>$${unitPrice}${priceSuffix}</td>
                                <td><input type="number" style="width: 50px;" class="form-control quantity-input" data-index="${index}" value="${quantity}" min="1"></td>
                                <td class="line-total">$${lineItemTotal}${priceSuffix}</td>
                            `;
                        } else {
                            
                            row.innerHTML = `
                                <td class="max-200">
                                    <div style="max-width: 250px;" class="float-left">
                                        ${item.title || 'Unknown Product'} - ${item.flavor || 'N/A'} (${item.size || 'N/A'}) (${item.orderType || 'N/A'})
                                    </div>
                                    <button class="remove-item bin-sml float-right" data-index="${index}">
                                        <img src="/img/bin.svg">
                                    </button>
                                </td>
                                <td>$${unitPrice}${priceSuffix}</td>
                                <td><input type="number" style="width: 50px;" class="form-control quantity-input" data-index="${index}" value="${quantity}" min="1"></td>
                                <td class="line-total">$${lineItemTotal}${priceSuffix}</td>
                            `;
                        }
                    } else {
                        
                        if (item.orderTypeVal === 'three_pack') {
                            const flavorList = item.flavors.map((flavor, i) => {
                            return `<li>Jar ${i + 1}: ${flavor} - ${item.size}</li>`;
                        }).join('');
                            row.innerHTML = `
                                <td>
                                    <div>${item.title || 'Unknown Product'} - Pack of 3 Jars
                                <ul>
                                            ${flavorList}
                                        </ul>
                                    <div class="row m-0 mt-2 p-0 align-items-center">
                                        <span class="col-4">$${unitPrice}${priceSuffix}</span>
                                        <span class="col-4 text-center"><input type="number" style="width: 50px;margin:auto" class="form-control quantity-input" data-index="${index}" value="${quantity}" min="1"></span>
                                        <span class="col-4 text-end">
                                            <button class="remove-item bin-sml text-danger" data-index="${index}">
                                                <img src="/img/bin.svg">
                                            </button>
                                        </span>
                                    </div>
                                </td>
                                <td class="line-total">$${lineItemTotal}${priceSuffix}</td>
                            `;
                        } else {
                            row.innerHTML = `
                                <td>
                                    <div>${item.title || 'Unknown Product'} - ${item.flavor || 'N/A'} (${item.size || 'N/A'}) (${item.orderType || 'N/A'})</div>
                                    <div class="row m-0 mt-2 p-0 align-items-center">
                                        <span class="col-4">$${unitPrice}${priceSuffix}</span>
                                        <span class="col-4 text-center"><input type="number" style="width: 50px;margin:auto" class="form-control quantity-input" data-index="${index}" value="${quantity}" min="1"></span>
                                        <span class="col-4 text-end">
                                            <button class="remove-item bin-sml text-danger" data-index="${index}">
                                                <img src="/img/bin.svg">
                                            </button>
                                        </span>
                                    </div>
                                </td>
                                <td class="line-total">$${lineItemTotal}${priceSuffix}</td>
                            `;
                        }
                    }

                    
                    cartTableBody.appendChild(row);
                });

                if(countryCode == 'NZ'){
                    if(totalCost < 80){
                        totalCost = totalCost + 6.95;  
                        document.getElementById('shipping_info').classList.remove('d-none'); 
                    }
                    else{
                        document.getElementById('shipping_info').classList.add('d-none');
                    }
                }
                if(countryCode == 'AU'){
                    if(totalCost < 150){
                        totalCost = totalCost + 16.95;   
                        document.getElementById('shipping_info').classList.remove('d-none');
                    }
                    else{
                        document.getElementById('shipping_info').classList.add('d-none');
                    }
                }
               
               
                
                let totalPriceSuffix = '';
                if (cart.some(item => item.orderType && item.orderType.includes('Quarterly'))) {
                    totalPriceSuffix = '<span class="price-suffix">/3mo</span>';
                } else if (cart.some(item => item.orderType && item.orderType.includes('Monthly'))) {
                    totalPriceSuffix = '<span class="price-suffix">/mo</span>';
                }
                totalCostElement.innerHTML = `$${totalCost.toFixed(2)}${totalPriceSuffix}`;
                proceedToCheckoutButton.disabled = cart.length === 0;

                
const hotMessage = document.querySelector('.cartcontainerall');
if (cart.length === 0 && hotMessage) {
    hotMessage.remove(); 
}


const cartEmptyDiv = document.querySelector('#cartempty'); 
if (cartEmptyDiv) {
    if (cart.length === 0) {
        cartEmptyDiv.classList.remove('d-none'); 
        cartEmptyDiv.classList.add('d-flex'); 
    } else {
        cartEmptyDiv.classList.add('d-none');  
    }
}



            

                
                document.querySelectorAll('.quantity-input').forEach(input => {
                    input.addEventListener('input', function () {
                        const index = this.getAttribute('data-index');
                        cart[index].quantity = parseInt(this.value, 10) || 1;
                        localStorage.setItem('cartV2', JSON.stringify(cart));
                        updateCart();
                    });
                });

                
                document.querySelectorAll('.remove-item').forEach(button => {
                    button.addEventListener('click', function () {
                        const index = this.getAttribute('data-index');
                        cart.splice(index, 1);
                        localStorage.setItem('cartV2', JSON.stringify(cart));
                        updateCart();
                    });
                });
            }

            
            window.addEventListener('storage', function () {
                cart = JSON.parse(localStorage.getItem('cartV2')) || [];
                updateCart();
            });

            
            updateCart();
            window.onresize = function(event) {
  updateCart();}

            proceedToCheckoutButton.addEventListener('click', function () {
                handleCheckout(cart);
            });

            function handleCheckout(cart) {
                cart = cart.map(item => {
                    return { ...item, quantity: parseInt(item.quantity, 10) };
                });

                fetch('/.netlify/functions/create-checkout-session', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ cart, countryCode }),
                })
                    .then(response => response.json())
                    .then(data => {
                        if (data.sessionId) {
                            localStorage.setItem('previouscart', JSON.stringify(cart));
                            stripe.redirectToCheckout({ sessionId: data.sessionId });
                        } else {
                            alert('Failed to create checkout session. Please try again.');
                        }
                    })
                    .catch(() => {
                        alert('Failed to create checkout session. Please try again.');
                    });
            }
        });
        
    </script>
    <style>@media (max-width: 767px) {
        table {
            width: 100%;
            min-width:100% !important;
        }
        .table-bordered td, .table-bordered th {
    vertical-align: middle;
}
    }
</style>
</body>
</html>



