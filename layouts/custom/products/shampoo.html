<!DOCTYPE html>
<html lang="en">
<head>
    {{- partial "head.html" . -}}
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="description" content="Tallow Shampoo Bar NZ - Natural shampoo bar for scalp health. Made in Christchurch with grass-fed tallow, olive oil & coconut oil. No plastic waste, no synthetic chemicals. As seen on Seven Sharp." />
    <meta property="og:title" content="Tallow Shampoo Bar NZ | Natural Scalp Health Shampoo Bar | PrimalPantry" />
    <meta property="og:type" content="{{ .Site.Params.homepage_meta_tags.meta_og_type }}" />
    <meta property="og:url" content="https://primalpantry.co.nz/shop/products/tallow-shampoo-bar/" />
    <meta property="og:image" content="https://primalpantry.co.nz/img/shampoobar/shampoo-bar.webp" />
    <meta property="og:description" content="Natural tallow shampoo bar for healthy scalp and hair. Made in Christchurch with grass-fed tallow. Zero plastic waste. As seen on Seven Sharp." />
    <meta name="twitter:card" content="{{ .Site.Params.homepage_meta_tags.meta_twitter_card }}" />
    <meta name="twitter:site" content="{{ .Site.Params.homepage_meta_tags.meta_twitter_site }}" />
    <meta name="twitter:creator" content="{{ .Site.Params.homepage_meta_tags.meta_twitter_creator }}" />
    <link rel="canonical" href="https://primalpantry.co.nz/shop/products/tallow-shampoo-bar/" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Product",
        "name": "Tallow Shampoo Bar",
        "description": "Natural tallow shampoo bar for scalp health. Made in Christchurch with grass-fed tallow, olive oil and coconut oil. Zero plastic waste.",
        "image": "https://primalpantry.co.nz/img/shampoobar/shampoo-bar.webp",
        "brand": { "@type": "Brand", "name": "PrimalPantry" },
        "offers": {
            "@type": "Offer",
            "url": "https://primalpantry.co.nz/shop/products/tallow-shampoo-bar/",
            "priceCurrency": "NZD",
            "price": "14.95",
            "availability": "https://schema.org/InStock",
            "shippingDetails": {
                "@type": "OfferShippingDetails",
                "shippingDestination": { "@type": "DefinedRegion", "addressCountry": "NZ" }
            }
        }
    }
    </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    {{ $styles := resources.Get "css/product-page.css" | minify | fingerprint }}
    <link rel="stylesheet" href="{{ $styles.RelPermalink }}">
    <style>
        /* Pair With Section */
        .pp-pair-with { max-width: 900px; margin: 0 auto; padding: 0 20px; }
        .pp-pair-card { display: flex; align-items: center; gap: 16px; background: var(--pp-warm-bg, #FDFBF7); border-radius: 12px; padding: 16px 20px; margin-top: 20px; }
        .pp-pair-label { font-size: 11px; font-weight: 700; letter-spacing: 0.5px; color: var(--pp-text-muted, #94918A); margin-bottom: 8px; text-transform: uppercase; }
        .pp-pair-img { width: 80px; height: 80px; border-radius: 8px; object-fit: cover; }
        .pp-pair-info { flex: 1; }
        .pp-pair-title { font-family: 'DM Sans', sans-serif; font-weight: 600; font-size: 14px; color: var(--pp-text-primary, #2C2925); margin: 0 0 2px; }
        .pp-pair-title a { color: inherit; text-decoration: none; }
        .pp-pair-title a:hover { text-decoration: underline; }
        .pp-pair-desc { font-size: 12px; color: var(--pp-text-muted, #94918A); margin: 0 0 8px; }
        .pp-pair-row { display: flex; align-items: center; justify-content: space-between; }
        .pp-pair-price { font-weight: 700; font-size: 15px; }
        .pp-pair-btn { background: #000; color: #fff; border: none; padding: 7px 16px; border-radius: 6px; font-size: 13px; font-weight: 500; cursor: pointer; transition: background 0.2s; }
        .pp-pair-btn:hover { background: #333; }
        .pp-pair-btn.added { background: #4CAF50; cursor: default; }
        /* Toast */
        .pp-toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%) translateY(100px); background: #fff; border-radius: 12px; padding: 14px 18px; box-shadow: 0 8px 30px rgba(0,0,0,0.2); z-index: 999999; opacity: 0; visibility: hidden; transition: all 0.3s ease; display: flex; align-items: center; gap: 12px; }
        .pp-toast.show { transform: translateX(-50%) translateY(0); opacity: 1; visibility: visible; }
        .pp-toast-text { font-size: 14px; font-weight: 600; }
        .pp-toast-link { background: #000; color: #fff; padding: 7px 14px; border-radius: 6px; text-decoration: none; font-size: 13px; font-weight: 500; white-space: nowrap; }
        .pp-toast-link:hover { background: #333; color: #fff; }
        @media (max-width: 767px) {
            .pp-toast { left: 10px; right: 10px; bottom: 80px; transform: translateX(0) translateY(100px); max-width: none; }
            .pp-toast.show { transform: translateX(0) translateY(0); }
        }
    </style>
</head>
<body>

{{- partial "alert-online.html" . -}}
{{- partial "header_new.html" . -}}

<!-- â”€â”€â”€ BREADCRUMB â”€â”€â”€ -->
<div class="pp-breadcrumb">
    <a href="/shop" class="text-dark">Shop</a> â€º Tallow Shampoo Bar
</div>

<!-- â”€â”€â”€ PRODUCT HERO â”€â”€â”€ -->
<div class="product-hero">

    <!-- Gallery -->
    <div class="product-gallery">
        <div class="gallery-main">
            <img class="main-image" id="mainImage" fetchpriority="high" src="/img/shampoobar/shampoo-bar.webp" alt="Tallow Shampoo Bar NZ - natural shampoo bar for scalp health">
            <div class="exclusive-badge">
                <span class="dot"></span> Online Exclusive
            </div>
        </div>
        <div class="gallery-thumbs">
            <div class="thumb active" onclick="switchImage('/img/shampoobar/shampoo-bar.webp', this)">
                <img src="/img/shampoobar/shampoo-bar.webp" alt="Tallow shampoo bar">
            </div>
            <div class="thumb" onclick="switchImage('/img/shampoobar/tallow-shampoo-bar-product-benifitswebp.webp', this)">
                <img src="/img/shampoobar/tallow-shampoo-bar-product-benifitswebp.webp" alt="Tallow shampoo bar benefits" loading="lazy">
            </div>
            <div class="thumb" onclick="switchImage('/img/shampoo-hands.webp', this)">
                <img src="/img/shampoo-hands.webp" alt="Tallow shampoo bar in hands" loading="lazy">
            </div>
            <div class="thumb" onclick="switchImage('/img/shampoo-reviews.webp', this)">
                <img src="/img/shampoo-reviews.webp" alt="Tallow shampoo bar customer reviews NZ" loading="lazy">
            </div>
        </div>
    </div>

    <!-- Product Info -->
    <div class="product-info">

        <div class="trust-row">
            <div class="pp-stars">
                <svg viewBox="0 0 20 20" fill="currentColor"><path d="M10 1l2.39 4.84 5.34.78-3.87 3.77.91 5.32L10 13.28l-4.77 2.51.91-5.32L2.27 6.7l5.34-.78L10 1z"/></svg>
                <svg viewBox="0 0 20 20" fill="currentColor"><path d="M10 1l2.39 4.84 5.34.78-3.87 3.77.91 5.32L10 13.28l-4.77 2.51.91-5.32L2.27 6.7l5.34-.78L10 1z"/></svg>
                <svg viewBox="0 0 20 20" fill="currentColor"><path d="M10 1l2.39 4.84 5.34.78-3.87 3.77.91 5.32L10 13.28l-4.77 2.51.91-5.32L2.27 6.7l5.34-.78L10 1z"/></svg>
                <svg viewBox="0 0 20 20" fill="currentColor"><path d="M10 1l2.39 4.84 5.34.78-3.87 3.77.91 5.32L10 13.28l-4.77 2.51.91-5.32L2.27 6.7l5.34-.78L10 1z"/></svg>
                <svg viewBox="0 0 20 20" fill="currentColor"><path d="M10 1l2.39 4.84 5.34.78-3.87 3.77.91 5.32L10 13.28l-4.77 2.51.91-5.32L2.27 6.7l5.34-.78L10 1z"/></svg>
            </div>
            <span class="trust-text">Rated 4.7/5 Â· 85,000+ kiwis trust PrimalPantry.</span>
            <span class="eanz-badge">
                <svg viewBox="0 0 20 20" fill="currentColor"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/></svg>
                EANZ Partner
            </span>
        </div>

        <h1 class="pp-product-title">Tallow Shampoo Bar</h1>
        <p class="pp-product-subtitle">Natural shampoo for scalp health</p>
        <p class="pp-product-edition">PrimalCare Haircare</p>

        <div class="benefit-strip">
            <p>Ditch the plastic bottles and synthetic detergents. Our tallow shampoo bar uses <strong>grass-fed tallow, olive oil & coconut oil</strong> to cleanse and nourish your hair naturally â€” leaving it <strong>soft, clean, and conditioned</strong> without stripping your scalp.</p>
        </div>

        <div class="pp-pricing-section">
            <span class="pp-price-main"><span id="price">-</span> <span style="font-size:18px; font-weight:400; color:var(--pp-text-muted); text-decoration:line-through;" id="original-price"></span> <span style="font-size:14px; font-weight:700; color:#D4553E; background:#FFF0EE; padding:3px 10px; border-radius:6px; margin-left:6px;">30% OFF</span></span>
            <p class="afterpay-note">or 4 interest free payments of $<span id="afterpay_price">-</span> with <img src="/img/afterpay.webp" class="d-inline" height="18" alt="afterpay"></p>
        </div>

        <div class="purchase-options">
            <label class="purchase-option selected">
                <input type="radio" name="purchaseType" value="single_purchase" checked>
                <div class="option-left">
                    <div class="option-radio"><div class="dot-inner"></div></div>
                    <div>
                        <div class="option-label">Single Block <span style="font-size:12px; font-weight:700; color:#D4553E;">â€” 30% OFF</span></div>
                        <div class="option-sublabel">120g Â· 2â€“3 months supply</div>
                    </div>
                </div>
                <div class="option-price">$<span id="option-price-display">-</span></div>
            </label>
        </div>

        <!-- Hidden form for pricing engine â€” references tallow.pricing.shampoo + tallow.ids.shampoo -->
        <form id="productForm" autocomplete="off" style="display:none;">
            <input type="radio" id="single_purchase" name="orderType" value="single_purchase" checked>
            <input type="radio" id="peppermintrosemary" name="flavor" value="peppermintrosemary" checked>
            <input type="radio" id="size120g" name="size" value="120g" checked>
        </form>

        <div class="pp-selector-group">
            <div class="pp-selector-label">Scent</div>
            <div class="scent-pills">
                <div class="scent-pill active">Natural Unscented</div>
            </div>
        </div>

        <div class="stock-indicator">
            <span class="stock-dot"></span> In Stock Â· Ships within 1â€“3 business days
        </div>

        <div class="action-row">
            <div class="pp-qty-selector">
                <button type="button" class="btn-decrease">âˆ’</button>
                <input type="number" class="form-control" id="quantityAll" name="quantity" min="1" value="1" readonly>
                <button type="button" class="btn-increase">+</button>
            </div>
            <button class="btn-add-to-cart buy-now" type="button" data-price-id="" data-quantity-id="quantityAll">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="position:relative;z-index:1;"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg>
                <span style="position:relative;z-index:1;">Add To Cart</span>
            </button>
        </div>

        <p class="sub-cta">Money back guarantee Â· Speedy NZ-wide shipping Â· Zero plastic waste</p>

        <div class="guarantee-bar">
            <div class="guarantee-item">
                <svg viewBox="0 0 20 20" fill="currentColor"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/></svg>
                Natural Ingredients
            </div>
            <div class="guarantee-item">
                <svg viewBox="0 0 20 20" fill="currentColor"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/></svg>
                Made in Christchurch
            </div>
            <div class="guarantee-item">
                <svg viewBox="0 0 20 20" fill="currentColor"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/></svg>
                Zero Plastic
            </div>
            <div class="guarantee-item">
                <svg viewBox="0 0 20 20" fill="currentColor"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/></svg>
                Money Back
            </div>
        </div>

        <!-- Pair With Conditioner -->
        <div class="pp-pair-with">
            <p class="pp-pair-label">Pair with</p>
            <div class="pp-pair-card">
                <a href="/shop/products/tallow-conditioner/">
                    <img src="/img/conditioner-shop.webp" alt="Tallow Conditioner" class="pp-pair-img" loading="lazy">
                </a>
                <div class="pp-pair-info">
                    <p class="pp-pair-title"><a href="/shop/products/tallow-conditioner/">Tallow Conditioner 500ml â€” Hair Repair</a></p>
                    <p class="pp-pair-desc">Nature's answer to dull, damaged and frizzy hair</p>
                    <div class="pp-pair-row">
                        <span class="pp-pair-price" data-product="conditioner" data-size="500ml" data-order-type="single_purchase">$34.95</span>
                        <button class="pp-pair-btn pair-with-quick-add"
                            data-product="conditioner"
                            data-order-type="single"
                            data-flavor="geranium"
                            data-size="500ml"
                            data-title="Nourishing Tallow Conditioner"
                            data-display-size="500ml"
                            data-display-flavor="Fresh Geranium"
                            data-display-order-type="Single bottle">Quick Add</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- â”€â”€â”€ TABS â”€â”€â”€ -->
<div class="pp-tabs-section">
    <div class="pp-tabs-nav">
        <button class="pp-tab-btn active" onclick="switchTab('fastfacts', this)">Fast Facts</button>
        <button class="pp-tab-btn" onclick="switchTab('ingredients', this)">Ingredients</button>
        <button class="pp-tab-btn" onclick="switchTab('directions', this)">Directions</button>
        <button class="pp-tab-btn" onclick="switchTab('reviews', this)">Reviews</button>
        <button class="pp-tab-btn" onclick="switchTab('shipping', this)">Shipping</button>
    </div>
    <div class="pp-tab-panel active" id="tab-fastfacts">
        <h4>Why use a tallow shampoo bar?</h4>
        <p>Many shampoos are packed with synthetic detergents, sulphates, and artificial fragrances that strip your hair and can irritate your scalp. Our tallow shampoo bar takes a different approach â€” grass-fed tallow, olive oil, coconut oil, and castor oil work together to cleanse without stripping, leaving your hair naturally soft, clean, and conditioned.</p>
        <p>No plastic bottles, no synthetic chemicals, no compromises. A tallow shampoo bar that's as good for the environment as it is for your hair.</p>
    </div>
    <div class="pp-tab-panel" id="tab-ingredients">
        <h4>Simple, honest ingredients</h4>
        <p>Grass-fed Beef Tallow, Olive Oil, Coconut Oil, Castor Oil, Lye (none remains in the finished product after 4 weeks of curing).</p>
        <p>No sulphates, no parabens, no synthetic fragrances, no plastic packaging. Just clean, natural ingredients.</p>
    </div>
    <div class="pp-tab-panel" id="tab-directions">
        <h4>How to use</h4>
        <p>Lather the bar in your hands, then work the lather through wet hair from roots to tips. Rinse thoroughly. For best results, follow with our Tallow Conditioner.</p>
        <h4>Storage</h4>
        <p>Keep the bar dry between uses â€” store on a well-draining soap dish in a cool, dry place away from direct sunlight. This will extend the life of your bar significantly.</p>
    </div>
    <div class="pp-tab-panel" id="tab-reviews">
        <h4>See what our customers say</h4>
        <img class="tab-reviews-img" src="/img/shampoo-reviews.webp" alt="Tallow shampoo bar customer reviews NZ" loading="lazy">
    </div>
    <div class="pp-tab-panel" id="tab-shipping">
        <h4>Shipping</h4>
        <p><strong>Processing:</strong> 1â€“3 business days, then standard courier times (3â€“5 business days NZ-wide).</p>
        <p><strong>Cost:</strong> $4.95â€“$6.95, or free on orders over $80.</p>
        <p><strong>International:</strong> Currently NZ only. Australia shipping coming soon.</p>
    </div>
</div>

<!-- â”€â”€â”€ TALLOW SEEN ON â”€â”€â”€ -->
<div class="pp-media-section">
    <p class="pp-media-label">Tallow seen on Seven Sharp</p>
    <div class="pp-media-logos">
        <img src="/img/shop/desktop-product-logos.webp" alt="PrimalPantry tallow seen on Stuff, Mai, The Breeze, More FM" class="pp-media-logos-img d-none d-md-block" loading="lazy">
        <img src="/img/shop/mobile-logos.webp" alt="Tallow seen on Seven Sharp" class="pp-media-logos-img d-block d-md-none" loading="lazy">
    </div>
</div>

<!-- â”€â”€â”€ WHY TALLOW SHAMPOO BAR â”€â”€â”€ -->
<div class="pp-why-section">
    <div class="pp-why-inner">
        <div class="pp-why-content">
            <h2>Why kiwis are switching to a tallow shampoo bar</h2>
            <p>Many shampoos rely on harsh sulphates and synthetic detergents to create that foamy lather â€” but that lather comes at a cost. It strips your hair's natural oils, leaving your scalp dry and your hair dull. A tallow shampoo bar works differently â€” tallow's fatty acid profile closely mimics the oils your scalp naturally produces, so it cleanses without stripping.</p>
            <p>That's why kiwis are ditching the plastic bottles and switching to a tallow shampoo bar â€” real cleansing from natural ingredients, with zero plastic waste. Made in small batches in Christchurch by the tallow skincare company featured on Seven Sharp.</p>
        </div>
        <div class="ingredients-grid">
            <div class="ingredient-card">
                <h4>ðŸŒ¿ Grass-fed Tallow</h4>
                <p>The natural base. Its fatty acid profile closely mimics your scalp's own oils â€” designed to cleanse and nourish without stripping.</p>
            </div>
            <div class="ingredient-card">
                <h4>ðŸ«’ Olive Oil</h4>
                <p>Rich in antioxidants and vitamins â€” traditionally valued for leaving hair soft, manageable, and naturally conditioned.</p>
            </div>
            <div class="ingredient-card">
                <h4>ðŸ¥¥ Coconut Oil</h4>
                <p>A natural cleanser that creates a gentle lather while helping to nourish and strengthen hair from root to tip.</p>
            </div>
            <div class="ingredient-card">
                <h4>ðŸŒ± Castor Oil</h4>
                <p>A natural cleanser traditionally known for promoting strong, healthy hair growth and adding natural shine.</p>
            </div>
        </div>
    </div>
</div>

<!-- â”€â”€â”€ COMPARISON â”€â”€â”€ -->
<div class="pp-comparison-section">
    <h2>Tallow shampoo bar vs bottled shampoo</h2>
    <p class="subtitle">See why kiwis are making the switch</p>
    <table class="comparison-table">
        <thead>
            <tr>
                <th></th>
                <th>PrimalCare</th>
                <th>Other brands</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>All natural ingredients</td><td><span class="check">âœ“</span></td><td><span class="cross">âœ—</span></td></tr>
            <tr><td>No sulphates or synthetic detergents</td><td><span class="check">âœ“</span></td><td><span class="cross">âœ—</span></td></tr>
            <tr><td>Zero plastic waste</td><td><span class="check">âœ“</span></td><td><span class="cross">âœ—</span></td></tr>
            <tr><td>Cleanses without stripping</td><td><span class="check">âœ“</span></td><td><span class="cross">âœ—</span></td></tr>
            <tr><td>Made in Christchurch, NZ</td><td><span class="check">âœ“</span></td><td><span class="cross">âœ—</span></td></tr>
            <tr><td>Money back guarantee</td><td><span class="check">âœ“</span></td><td><span class="cross">âœ—</span></td></tr>
        </tbody>
    </table>
</div>

<!-- â”€â”€â”€ ROUTINE CROSS-SELL â”€â”€â”€ -->
{{- partial "irritation-routine.html" . -}}

<!-- â”€â”€â”€ TOAST â”€â”€â”€ -->
<div id="pairWithToast" class="pp-toast">
    <svg width="24" height="24" fill="#4CAF50" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/></svg>
    <span class="pp-toast-text" id="pairWithToastProduct">Added to Cart!</span>
    <a href="/cart" class="pp-toast-link">View Cart</a>
</div>

<!-- â”€â”€â”€ PAGE SCRIPTS â”€â”€â”€ -->
<script>
    function switchImage(src, thumbEl) {
        const main = document.getElementById('mainImage');
        main.style.opacity = '0';
        setTimeout(() => { main.src = src; main.style.opacity = '1'; }, 150);
        document.querySelectorAll('.gallery-thumbs .thumb').forEach(t => t.classList.remove('active'));
        thumbEl.classList.add('active');
    }

    function switchTab(tabId, btn) {
        document.querySelectorAll('.pp-tab-panel').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.pp-tab-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('tab-' + tabId).classList.add('active');
        btn.classList.add('active');
    }

    const quantityInput = document.getElementById('quantityAll');
    document.querySelector('.btn-increase').addEventListener('click', () => {
        quantityInput.value = parseInt(quantityInput.value) + 1;
    });
    document.querySelector('.btn-decrease').addEventListener('click', () => {
        const val = parseInt(quantityInput.value);
        if (val > 1) quantityInput.value = val - 1;
    });
</script>

<!-- Pricing: references site.Data.pricing.tallow.pricing.shampoo (size: 120g) -->
<!-- Price ID: references site.Data.pricing.tallow.ids.shampoo.single[peppermintrosemary][120g][country_code] -->
<script>
    const productPricingRaw = {{ site.Data.pricing.tallow.pricing.shampoo | jsonify | safeJS }};
    const productPricing = Array.isArray(productPricingRaw) ? productPricingRaw : [];

    function updatePrice() {
        const size = document.querySelector('input[name="size"]:checked').value.trim().toLowerCase();
        const orderType = document.querySelector('input[name="orderType"]:checked').value.trim().toLowerCase();
        const pricingEntry = productPricing.find(entry => entry.size.toLowerCase() === size);
        if (pricingEntry && pricingEntry.prices[country_code] && pricingEntry.prices[country_code][orderType]) {
            const price = pricingEntry.prices[country_code][orderType];
            const originalPrice = '17.95';
            document.getElementById("price").textContent = `$${price.toFixed(2)}`;
            document.getElementById("original-price").textContent = `$${originalPrice}`;
            document.getElementById("afterpay_price").textContent = `${(price / 4).toFixed(2)}`;
            document.getElementById("option-price-display").textContent = price.toFixed(2);
            document.querySelector('.btn-add-to-cart span').textContent = `Add To Cart â€” $${price.toFixed(2)}`;
        }
    }

    const rawData = "{{ .Site.Data.pricing | jsonify }}";
    const pricingData = JSON.parse(rawData);

    function updatePriceId() {
        const size = document.querySelector('input[name="size"]:checked').value.trim().toLowerCase();
        const flavor = document.querySelector('input[name="flavor"]:checked').value.trim().toLowerCase();
        const orderType = document.querySelector('input[name="orderType"]:checked').value.trim().toLowerCase();

        try {
            let priceId;
            if (orderType === 'single_purchase') {
                priceId = pricingData.tallow.ids.shampoo.single[flavor][size][country_code];
            } else if (orderType === 'three_pack') {
                priceId = pricingData.tallow.ids.shampoo.pack[flavor][size][country_code];
            }
            const buyNowButton = document.querySelector(".buy-now");
            if (buyNowButton) {
                buyNowButton.setAttribute("data-price-id", priceId || "");
            }
        } catch (error) {
            console.error('Error fetching Price ID:', error);
            const buyNowButton = document.querySelector(".buy-now");
            if (buyNowButton) buyNowButton.setAttribute("data-price-id", "");
        }
    }

    // Update pair-with price from YAML
    function updatePairWithPrice() {
        var priceElements = document.querySelectorAll('.pp-pair-price');
        priceElements.forEach(function(el) {
            var product = el.getAttribute('data-product');
            var size = el.getAttribute('data-size');
            var orderType = el.getAttribute('data-order-type');
            try {
                var productPricingData = pricingData.tallow.pricing[product];
                if (Array.isArray(productPricingData)) {
                    var entry = productPricingData.find(function(e) { return e.size.toLowerCase() === size.toLowerCase(); });
                    if (entry && entry.prices[country_code] && entry.prices[country_code][orderType]) {
                        el.textContent = '$' + entry.prices[country_code][orderType].toFixed(2);
                    }
                }
            } catch (err) { console.error('Pair-with price error:', err); }
        });
    }

    document.getElementById("productForm").addEventListener("change", function() {
        updatePrice();
        updatePriceId();
    });

    document.addEventListener("DOMContentLoaded", function() {
        updatePrice();
        updatePriceId();
        setTimeout(updatePairWithPrice, 100);
    });
</script>

<script>
    function handleAddToCart(event) {
        event.preventDefault();
        const button = event.target.closest('.buy-now');
        const size = '120g';
        const flavor = 'Natural Unscented';
        const orderTypeLabel = 'Single block';

        const unitPriceElement = document.getElementById('price');
        const unitPrice = unitPriceElement ? parseFloat(unitPriceElement.textContent.replace('$', '').trim()) || 0.00 : 0.00;
        const priceId = button.getAttribute('data-price-id') || 'N/A';
        const title = 'Tallow Shampoo Bar';
        const quantityField = document.getElementById('quantityAll');
        const quantity = quantityField ? parseInt(quantityField.value, 10) || 1 : 1;

        if (!priceId || priceId === 'N/A') {
            alert('Please select valid options before adding to cart.');
            return;
        }

        const cart = JSON.parse(localStorage.getItem('cartV2')) || [];
        cart.push({
            priceId, title, size, flavor,
            orderType: orderTypeLabel,
            quantity, unitPrice,
            eligibleForDiscount: false
        });
        localStorage.setItem('cartV2', JSON.stringify(cart));

        const modal = document.getElementById('addedToCartModal');
        if (modal) {
            $('#addedToCartModal').modal('show');
        } else {
            alert('Item added to cart successfully!');
        }
    }

    document.addEventListener('DOMContentLoaded', function () {
        const addToCartButton = document.querySelector('.buy-now');
        if (addToCartButton) addToCartButton.addEventListener('click', handleAddToCart);

        // Pair-with quick add
        document.querySelectorAll('.pair-with-quick-add').forEach(function(btn) {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                if (this.classList.contains('added')) return;

                var product = this.getAttribute('data-product');
                var orderType = this.getAttribute('data-order-type');
                var flavor = this.getAttribute('data-flavor');
                var size = this.getAttribute('data-size');
                var title = this.getAttribute('data-title');
                var displaySize = this.getAttribute('data-display-size');
                var displayFlavor = this.getAttribute('data-display-flavor');
                var displayOrderType = this.getAttribute('data-display-order-type');

                try {
                    var priceId = pricingData.tallow.ids[product][orderType][flavor][size][country_code];
                    var productPricingData = pricingData.tallow.pricing[product];
                    var unitPrice = 0;
                    if (Array.isArray(productPricingData)) {
                        var entry = productPricingData.find(function(e) { return e.size.toLowerCase() === size.toLowerCase(); });
                        if (entry && entry.prices[country_code]) {
                            var pricingOrderType = orderType === 'single' ? 'single_purchase' : orderType;
                            unitPrice = entry.prices[country_code][pricingOrderType] || 0;
                        }
                    }

                    if (!priceId || unitPrice === 0) {
                        alert('Unable to add this product. Please visit the product page.');
                        return;
                    }

                    var cart = JSON.parse(localStorage.getItem('cartV2')) || [];
                    cart.push({ priceId: priceId, title: title, size: displaySize, flavor: displayFlavor, orderType: displayOrderType, quantity: 1, unitPrice: unitPrice, eligibleForDiscount: false });
                    localStorage.setItem('cartV2', JSON.stringify(cart));

                    this.textContent = 'Added âœ“';
                    this.classList.add('added');
                    this.disabled = true;

                    // Toast
                    var toast = document.getElementById('pairWithToast');
                    var toastText = document.getElementById('pairWithToastProduct');
                    if (toast && toastText) {
                        toastText.textContent = title + ' added!';
                        toast.classList.remove('show');
                        void toast.offsetWidth;
                        toast.classList.add('show');
                        setTimeout(function() { toast.classList.remove('show'); }, 4000);
                    }

                    if (typeof updateCartBadge === 'function') updateCartBadge();
                } catch (err) {
                    console.error('Pair-with add error:', err);
                    alert('Unable to add this product. Please visit the product page.');
                }
            });
        });
    });
</script>

<!-- Modal for Add to Cart Confirmation -->
<div class="modal fade" id="addedToCartModal" tabindex="-1" aria-labelledby="addedToCartModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addedToCartModalLabel">Item Added to Cart</h5>
                <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Your item has been successfully added to the cart. What would you like to do next?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Continue Shopping</button>
                <a href="/cart" class="btn btn-black">Go to Cart</a>
            </div>
        </div>
    </div>
</div>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>

{{- partial "footer.html" . }}

</body>
</html>
